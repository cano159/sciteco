#!/usr/local/bin/sciteco -m
! ./symbols-extract.tes <input file> <output file> <prefix pattern list> <array name> !

EMQ[$SCITECOPATH]/string.tes

! read commandline arguments !
LR 0X#in 2LR 0X#ou 2LR 0X#pa 2LR 0X#na HK

! copy all defines in input file beginning with prefix !
EBQ#in <S#defineS[Q#pa]; -SS :Xa> EF

! sort all defines !
Ga ZJB 0,.M[qsort] J

! format as C/C++ array !
I/*
 * AUTOGENERATED FROM Q#in
 * DO NOT EDIT
 */
#ifdef HAVE_CONFIG_H
#include "config.h"
#endif

#include <glib.h>

#include "Q#in"
#include "sciteco.h"
#include "symbols.h"

namespace SciTECO {

static const SymbolList::Entry entries[] = {

<
  .,W.Xa 0KK
  I#ifdef Qa^J^I{"Qa", Qa},^J#endif^J
.-Z;>
I};

SymbolList Symbols::Q#na(entries, G_N_ELEMENTS(entries));

} /* namespace SciTECO */


! write output file !
EWQ#ou

EX
