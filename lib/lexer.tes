! Lexer configuration and styles (ED hook) !

! Match Q-Reg "_" against beginning of current doc's first line !
@[lexer.checkheader]{
  .h
  0,0,1ESPOSITIONFROMLINE:X.h
  [* EQ.h :SQ_ ]*
}

! Match Q-Reg "_" against end of current doc's file name !
@[lexer.checkname]{
  [* EQ* ZJ I H:SQ_ ]*
}

@[lexer.auto]{
  ! Set up brace lightning !
  :M[color.bracelight],34M[color.set]
  :M[color.error],35M[color.set]
}

! Automatically mung all the lexers and add them to "lexer.auto" !
[*
  EQ.[lexers] ENQ[$SCITECOPATH]/lexers/*.tes J
  <:L;R
    0X.[filename] 4R .U.p <-A-^^/"= 1; ':R;> .,Q.pX.[name]
    EMQ.[filename]
    :@EU[lexer.auto]{
      :M[lexer.test.Q.[name]]"S :M[lexer.set.Q.[name]] Oend '
    }
  L>
]*

! append "end" label to "lexer.auto" !
:[lexer.auto]!end!
